<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>画布</title>
        
        <style type="text/css">
            *{margin:0;padding:0;list-style:none;text-decoration:none;}
            body{overflow-x:hidden;padding:0;font-family:"Microsoft YaHei";background-color:#fff;} 
            .main{
                position: absolute;
                top: 0;
                left: 0;
                padding-bottom: 20px;
                width: 100%;
                height: auto;
                min-height: 100%;
                background: url(images/bg.jpg) no-repeat center center/cover;
            }
            .canvastest{
                display: block;
                position: absolute;
                top: 20%;
                left: 20%;
                background: #fff;
            }
        </style>
    </head>
    <body>
        <div class="main">
            <canvas class="canvastest" id="canvastest" width="600" height="600">
                <span class="p">不支持canvas</span>
            </canvas>
        </div>
        
        <script type="text/javascript">

            window.onload = function(){
                let oC = document.getElementById("canvastest");
                let oGC = oC.getContext("2d");
                oC.onmousedown = function(ev){
                    var ev = ev || window.event;
                    oGC.moveTo(ev.clientX - oC.offsetLeft,ev.clientY - oC.offsetTop);
                    document.onmousemove = function(ev){
                        var ev = ev || window.event;
                        oGC.lineWidth = 1;
                        oGC.lineTo(ev.clientX - oC.offsetLeft,ev.clientY - oC.offsetTop);
                        oGC.stroke();
                    }
                    document.onmouseup = function(){
                        document.onmousemove = null;
                        document.onmouseup = null;
                    }
                }
                
            }          
        </script>
    </body>
</html>