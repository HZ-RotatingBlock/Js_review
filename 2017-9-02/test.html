<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>test</title>
        
        <style type="text/css">
            *{margin:0;padding:0;list-style:none;text-decoration:none;}
            body{overflow-x:hidden;padding:0;font-family:"Microsoft YaHei";background-color:#fff;} 
            li,
            .testdiv{
                margin: 10px;
                width: 400px;
                height: 200px;
                font-size: 20px;
                font-weight: 700;
                text-align: center;
                line-height: 200px;
                color: #fff;
                background: #c03;
                border-radius: 5px;
                background: #69f;
                transition: all .3s;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="testdiv" id="testdiv">将文件拖拽到此区域</div>
             
        <script type="text/javascript">
            // FileReader(读取文件信息)
            //readAsDataURL:参数为要读取的文件对象，将文件读取为DataUrl
            //onload:当读取文件成功完成时触发此事件;this.result,来获取文件数据，如果是图片，将返回base64格式的图片数据
            window.onload = function(){
                let oDiv = document.getElementById("testdiv");

                oDiv.ondragenter = function(){
                    this.innerHTML = "可以释放文件至此处";
                }
                oDiv.ondragover = function(ev){
                    this.style.border = "2px dashed #c03";
                    ev.preventDefault();
                }
                oDiv.ondragleave = function(){
                    this.style.border = "none";
                    this.innerHTML = "将文件拖拽到此区域";
                }
                oDiv.ondrop = function(ev){
                    ev.preventDefault();
                    this.style.border = "none";
                    this.innerHTML = "将文件拖拽到此区域";
                    let fs = ev.dataTransfer.files;
                    let fd = new FileReader();
                    fd.readAsDataURL(fs[0]);
                    fd.onload = function(){
                        alert(this.result);
                    }
                }
            }          
        </script>
    </body>
</html>