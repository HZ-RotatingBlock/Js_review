<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>链表</title>

        <style type="text/css">
            *{margin:0;padding:0;list-style:none;text-decoration:none;}
            body{overflow-x:hidden;font-family:"Microsoft YaHei";background-color:#333;}
            .main{
                position:absolute;
                top:10%;
                left:50%;
                padding-bottom:50px;
                width:1200px;
                height:auto;
                min-height:400px;
                font-size:20px;
                font-weight:700;
                color:#000;
                background-position:center center;
                background-size:cover;
                background-repeat:no-repeat;
                background-color:#fff;
                border-radius:5px;
                transform:translateX(-50%);
                -webkit-transform:translateX(-50%);
                box-shadow:4px 4px 10px #000;
            }        
        </style>
    </head>
    <body>
        <div class="main" id="main"></div>
            
   <script type="text/javascript">   
            window.onload = function(){
                /***********************双向链表***********************/
                //Node类
                class Node{
                    constructor(element){
                        this.element = element;
                        this.next = null;
                        this.previous = null;
                    }
                }
                //LinkedList类
                class LinkedList{
                    constructor(){
                        this.head = new Node("head");
                    }
                    find(item){
                        let currNode =this.head;
                        while(currNode.element != item){
                            currNode = currNode.next;
                        }
                        return currNode;
                    }
                    insert(newEle,item){
                        let newNode = new Node(newEle);
                        let current = this.find(item);
                        newNode.next = current.next;
                        newNode.previous = current;
                        current.next = newNode;
                    }
                    // findPrevious(item){
                    //     let currNode = this.head;
                    //     while(!(currNode.next == null) && currNode.next.element != item){
                    //         currNode = currNode.next;
                    //     }
                    //     return currNode;
                    // }
                    remove(item){
                        let currNode = this.find(item);
                        if(!(currNode.next == null)){
                            currNode.previous.next = currNode.next;
                            currNode.next.previous = currNode.previous;
                            currNode.next = null;
                            currNode.previous = null;
                        }
                    }
                    //正向显示链表
                    display(){
                        let currNode = this.head;
                        while(!(currNode.next == null)){
                            console.log(currNode.next.element);
                            currNode = currNode.next;
                        }
                    }
                    //查找链表最后一个元素
                    findLast(){
                        let currNode = this.head;
                        while(!(currNode.next == null)){
                            currNode = currNode.next;
                        }
                        return currNode;
                    }
                    //反向显示链表
                    dispReverse(){
                        let currNode = this.head;
                        currNode = this.findLast();
                        while(!(currNode.previous == null)){
                            console.log(currNode.element);
                            currNode = currNode.previous;
                        }
                    }
                }
                //测试
                var cities = new LinkedList();
                cities.insert("one","head");
                cities.insert("two","one");
                cities.insert("three","two");
                cities.insert("four","three");
                console.log("\n");
                cities.display();
                cities.remove("two");
                console.log("\n");
                cities.display();
                console.log("\n");
                cities.dispReverse();

            }
        </script>
    </body>
</html>